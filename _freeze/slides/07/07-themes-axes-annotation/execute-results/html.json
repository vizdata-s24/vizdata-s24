{
  "hash": "8e15579513d6577ebd40958b8e59f26f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Themes + axes + annotation\nsubtitle: Lecture 7\ntitle-slide-attributes:\n  data-background-image: ../vizdata-bg.png\n  data-background-size: stretch\n  data-slide-number: none\nformat: revealjs\neditor_options: \n  chunk_output_type: console\n---\n\n\n# Warm up\n\n## Announcements\n\n-   HW 2 is due today at 5 pm\n\n-   Lab tomorrow: Rubenstein Library visit for Duke's collection of historical data visualizations\n\n-   Thursday: Du Bois visualizations + reading\n\n## Setup {.smaller}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load packages\nlibrary(countdown)\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(colorspace)\nlibrary(fs)\nlibrary(palmerpenguins)\nlibrary(ThemePark)\nlibrary(ggthemes)\nlibrary(duke)\nlibrary(tidykids)\nlibrary(openintro)\nlibrary(glue)\n\n# set theme for ggplot2\nggplot2::theme_set(ggplot2::theme_minimal(base_size = 18))\n\n# set figure parameters for knitr\nknitr::opts_chunk$set(\n  fig.width = 7, # 7\" width\n  fig.asp = 0.618, # the golden ratio\n  fig.retina = 3, # dpi multiplier for displaying HTML output on retina\n  fig.align = \"center\", # center align figures\n  dpi = 300 # higher dpi, sharper image\n)\n```\n:::\n\n\n# Themes\n\n## Complete themes {.smaller}\n\n\n::: {.cell layout-ncol=\"3\" layout-align=\"center\"}\n\n```{.r .cell-code}\np <- ggplot(penguins, aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point()\n\np + theme_gray() + labs(title = \"Gray\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-2-1.png){fig-align='center' width=2100}\n:::\n\n```{.r .cell-code}\np + theme_void() + labs(title = \"Void\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-2-2.png){fig-align='center' width=2100}\n:::\n\n```{.r .cell-code}\np + theme_dark() + labs(title = \"Dark\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-2-3.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Themes from ggthemes {.smaller}\n\n\n::: {.cell layout-ncol=\"3\" layout-align=\"center\"}\n\n```{.r .cell-code}\np + theme_fivethirtyeight() + labs(title = \"FiveThirtyEight\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-3-1.png){fig-align='center' width=2100}\n:::\n\n```{.r .cell-code}\np + theme_economist() + labs(title = \"Economist\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-3-2.png){fig-align='center' width=2100}\n:::\n\n```{.r .cell-code}\np + theme_wsj() + labs(title = \"Wall Street Journal\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-3-3.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Themes and color scales from **ggthemes**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np + \n  aes(color = species) +\n  scale_color_wsj() +\n  theme_wsj() + \n  labs(title = \"Wall Street Journal\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-4-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Themes from **ThemePark** {.smaller}\n\n\n::: {.cell layout-ncol=\"2\" layout-align=\"center\"}\n\n```{.r .cell-code}\np + \n  geom_point(color = barbie_theme_colors[\"medium\"]) +\n  theme_barbie()\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-5-1.png){fig-align='center' width=2100}\n:::\n\n```{.r .cell-code}\np + \n  geom_point(color = gameofthrones_theme_colors[\"medium\"]) +\n  theme_gameofthrones(gameofthrones_font = TRUE)\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-5-2.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Duke theme! {.smaller}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np + \n  aes(color = species) +\n  theme_duke() +\n  scale_duke_color_discrete()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-6-1.png){fig-align='center' width=1800}\n:::\n:::\n\n\n## Modifying theme elements {.smaller}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np + \n  labs(title = \"Palmer Penguins\") +\n  theme(\n    plot.title = element_text(color = \"red\", face = \"bold\"),\n    plot.background = element_rect(color = \"red\", fill = \"mistyrose\")\n  )\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-7-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n# Axes\n\n## Axis breaks {.smaller}\n\n::: task\nHow can the following figure be improved with custom breaks in axes, if at all?\n:::\n\n::: panel-tabset\n## Plot\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-8-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nkids_plot <- tidykids |>\n  mutate(year = as.numeric(year)) |>\n  filter(\n    state %in% c(\"North Carolina\", \"California\", \"Florida\"),\n    variable == \"pubhealth\"\n  ) |>\n  ggplot(aes(x = year, y = inf_adj_perchild, color = state, linetype = state)) +\n  geom_smooth(se = FALSE) +\n  scale_color_colorblind() +\n  theme(legend.position = c(0.15, 0.8))\n\nkids_plot\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n:::\n\n:::\n\n## Context matters\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nkids_plot +\n  scale_x_continuous(breaks = seq(from = 1996, to = 2016, by = 2))\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-10-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Conciseness matters\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nkids_plot +\n  scale_x_continuous(breaks = seq(from = 1996, to = 2016, by = 4))\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-11-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Precision matters\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nkids_plot +\n  scale_x_continuous(breaks = seq(2000, 2022, 4)) +\n  labs(x = \"Election year\")\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-12-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n# Annotation\n\n## Why annotate?\n\n![](images/stocks.png)\n\n::: aside\n<https://bl.ocks.org/susielu/23dc3082669ee026c552b85081d90976>\n:::\n\n## Video recap\n\n\n```{=html}\n<iframe allowfullscreen frameborder=\"0\" height=\"100%\" mozallowfullscreen style=\"min-width: 500px; min-height: 355px\" src=\"https://app.wooclap.com/SJERMI?from=status-bar?\" width=\"100%\"></iframe>\n```\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_cd7bc6b1\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## `geom_text()` {.smaller}\n\nCan be useful when individual observations are identifiable, but can also get overwhelming...\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(state_stats, aes(x = homeownership, y = pop2010)) + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-14-1.png){fig-align='center' width=2100}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(state_stats, aes(x = homeownership, y = pop2010)) + \n  geom_text(aes(label = abbr))\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-15-1.png){fig-align='center' width=2100}\n:::\n:::\n\n:::\n:::\n\n## `geom_text()`\n\n\n```{=html}\n<iframe allowfullscreen frameborder=\"0\" height=\"100%\" mozallowfullscreen style=\"min-width: 500px; min-height: 355px\" src=\"https://app.wooclap.com/SJERMI?from=status-bar?\" width=\"100%\"></iframe>\n```\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_9412d64e\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Now go ahead and improve it!\n\n::: task\nOpen `ae-06` and implement the improvements you came up with in Part 1.\n:::\n\n## Revisit Durham AQI\n\n::: task\nRecreate the following visualization, in Part 2 of `ae-06`.\n:::\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/dch-2022-3-data-viz-1.png){fig-align='center' width=2100}\n:::\n:::\n\n````{=html}\n<!--\n\n## Livecoding {.smaller}\n\nReveal below for code developed during live coding session.\n\n-   Prep\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\naqi_levels <- tribble(\n  ~aqi_min, ~aqi_max, ~color,    ~level,\n  0,        50,       \"#D8EEDA\", \"Good\",\n  51,       100,      \"#F1E7D4\", \"Moderate\",\n  101,      150,      \"#F8E4D8\", \"Unhealthy for sensitive groups\",\n  151,      200,      \"#FEE2E1\", \"Unhealthy\",\n  201,      300,      \"#F4E3F7\", \"Very unhealthy\",\n  301,      400,      \"#F9D0D4\", \"Hazardous\"\n) |>\n  mutate(aqi_mid = ((aqi_min + aqi_max) / 2))\n\ndch_2022 <- read_csv(\n  here::here(\"slides/07/\", \"data/durham-chapel-hill/ad_aqi_tracker_data-2022.csv\"),\n  na = c(\".\", \"\")\n) |>\n  janitor::clean_names() |>\n  mutate(date = mdy(date))\n```\n:::\n\n-   Plot\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ndch_2022 |>\n  filter(!is.na(aqi_value)) |>\n  ggplot(aes(x = date, y = aqi_value, group = 1)) +\n  geom_line(linewidth = 1) +\n  scale_x_date(\n    name = NULL, date_labels = \"%b\",\n    limits = c(ymd(\"2022-01-01\"), ymd(\"2023-03-01\"))\n  ) +\n  scale_y_continuous(breaks = c(0, 50, 100, 150, 200, 300, 400)) +\n  geom_text(\n    data = aqi_levels,\n    aes(x = ymd(\"2023-02-28\"), y = aqi_mid, label = level, color = darken(color, 0.3)),\n    hjust = 1, size = 6, fontface = \"bold\"\n  ) +\n  scale_color_identity() +\n  annotate(\n    geom = \"text\",\n    x = c(ymd(\"2022-01-01\"), ymd(\"2023-01-01\")), y = -80,\n    label = c(\"2022\", \"2023\"), size = 4\n  ) +\n  coord_cartesian(clip = \"off\", ylim = c(0, 400)) +\n  labs(\n    x = NULL, y = \"AQI\",\n    title = \"Ozone and PM2.5 Daily AQI Values\",\n    subtitle = \"Durham-Chapel Hill, NC\",\n    caption = \"\\nSource: EPA Daily Air Quality Tracker\"\n  ) +\n  theme(\n    plot.title.position = \"plot\",\n    panel.grid.minor.y = element_blank(),\n    panel.grid.minor.x = element_blank()\n  )\n```\n:::\n\n-->\n````\n\n\n## All of the data doesn't tell a story\n\n![](images/recession-1.png){fig-align=\"center\" width=\"900\"}\n\n::: aside\n[How the Recession Reshaped the Economy, in 255 Charts](https://www.nytimes.com/interactive/2014/06/05/upshot/how-the-recession-reshaped-the-economy-in-255-charts.html), NY Times (2014)\n:::\n\n## \n\n![](images/recession-2.png){fig-align=\"center\" width=\"900\"}\n\n::: aside\n[How the Recession Reshaped the Economy, in 255 Charts](https://www.nytimes.com/interactive/2014/06/05/upshot/how-the-recession-reshaped-the-economy-in-255-charts.html), NY Times (2014)\n:::\n\n## \n\n![](images/recession-3.png){fig-align=\"center\" width=\"900\"}\n\n::: aside\n[How the Recession Reshaped the Economy, in 255 Charts](https://www.nytimes.com/interactive/2014/06/05/upshot/how-the-recession-reshaped-the-economy-in-255-charts.html), NY Times (2014)\n:::\n\n## Highlighting in ggplot2\n\nWe have (at least) two options:\n\n1.  Native ggplot2 -- use layers\n\n2.  gghighlight: <https://yutannihilation.github.io/gghighlight/articles/gghighlight.html>\n\n## Data: SF AQI {.smaller}\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nsf_files <- fs::dir_ls(here::here(\"data/san-francisco\"))\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nsf <- read_csv(sf_files, na = c(\".\", \"\"))\n\nsf <- sf |>\n  janitor::clean_names() |>\n  mutate(date = mdy(date)) |>\n  arrange(date) |>\n  select(date, aqi_value)\n\nsf\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,557 × 2\n   date       aqi_value\n   <date>         <dbl>\n 1 2016-01-01        32\n 2 2016-01-02        37\n 3 2016-01-03        45\n 4 2016-01-04        33\n 5 2016-01-05        27\n 6 2016-01-06        39\n 7 2016-01-07        39\n 8 2016-01-08        31\n 9 2016-01-09        20\n10 2016-01-10        20\n# ℹ 2,547 more rows\n```\n\n\n:::\n:::\n\n\n## Data prep {.smaller}\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"|3|4\"}\nsf <- sf |>\n  mutate(\n    year = year(date),\n    day_of_year = yday(date)\n  )\n```\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# check\nsf |>\n  filter(day_of_year < 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 14 × 4\n   date       aqi_value  year day_of_year\n   <date>         <dbl> <dbl>       <dbl>\n 1 2016-01-01        32  2016           1\n 2 2016-01-02        37  2016           2\n 3 2017-01-01        55  2017           1\n 4 2017-01-02        36  2017           2\n 5 2018-01-01        87  2018           1\n 6 2018-01-02        95  2018           2\n 7 2019-01-01        33  2019           1\n 8 2019-01-02        50  2019           2\n 9 2020-01-01        53  2020           1\n10 2020-01-02        43  2020           2\n11 2021-01-01        79  2021           1\n12 2021-01-02        57  2021           2\n13 2022-01-01        53  2022           1\n14 2022-01-02        55  2022           2\n```\n\n\n:::\n:::\n\n:::\n:::\n\n## Plot AQI over years\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sf, aes(x = day_of_year, y = aqi_value, group = year)) +\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-26-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Plot AQI over years\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sf, aes(x = day_of_year, y = aqi_value, group = year, color = year)) +\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-27-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Plot AQI over years\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sf, aes(x = day_of_year, y = aqi_value, group = year, color = factor(year))) +\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-28-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Highlight 2016 {.smaller}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"|3\"}\nggplot(sf, aes(x = day_of_year, y = aqi_value, group = year)) +\n  geom_line(color = \"gray\") +\n  geom_line(data = sf |> filter(year == 2016), color = \"red\") +\n  labs(\n    title = \"AQI levels in SF in 2016\",\n    subtitle = \"Versus all years 2016 - 2022\",\n    x = \"Day of year\", y = \"AQI value\"\n  )\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-29-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Highlight 2017 {.smaller}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sf, aes(x = day_of_year, y = aqi_value, group = year)) +\n  geom_line(color = \"gray\") +\n  geom_line(data = sf |> filter(year == 2017), color = \"red\") +\n  labs(\n    title = \"AQI levels in SF in 2017\",\n    subtitle = \"Versus all years 2016 - 2022\",\n    x = \"Day of year\", y = \"AQI value\"\n  )\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-30-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Highlight 2018 {.smaller}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sf, aes(x = day_of_year, y = aqi_value, group = year)) +\n  geom_line(color = \"gray\") +\n  geom_line(data = sf |> filter(year == 2018), color = \"red\") +\n  labs(\n    title = \"AQI levels in SF in 2018\",\n    subtitle = \"Versus all years 2016 - 2022\",\n    x = \"Day of year\", y = \"AQI value\"\n  )\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-31-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Highlight any year {.smaller}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"|1|5|7\"}\nyear_to_highlight <- 2018\n\nggplot(sf, aes(x = day_of_year, y = aqi_value, group = year)) +\n  geom_line(color = \"gray\") +\n  geom_line(data = sf |> filter(year == year_to_highlight), color = \"red\") +\n  labs(\n    title = glue(\"AQI levels in SF in {year_to_highlight}\"),\n    subtitle = \"Versus all years 2016 - 2022\",\n    x = \"Day of year\", y = \"AQI value\"\n  )\n```\n\n::: {.cell-output-display}\n![](07-themes-axes-annotation_files/figure-revealjs/unnamed-chunk-32-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n## Highlight with gghighlight\n\n::: task\nHighlight years where maximum observed AQI value exceeds 200 using **gghighlight**.\n:::\n",
    "supporting": [
      "07-themes-axes-annotation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}